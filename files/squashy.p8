pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--simple game of squash
--by uvehj, based on picozine 1
score=0
lives=3
nextobjective = 10
--  paddle
padx=52    
pady=122    
padw=24
padh=3 
 -- ball    
ballx=64 + rnd(40) - 20  
bally=64    
ballsize=3   
ballxdir=5  
ballydir=-3
function   restartball()        
    ballx=64 + rnd(40) - 20  
    bally=64   
    if rnd(1) == 0 then
        ballxdir=5
    else
        ballxdir=-5
    end
    ballydir=-3 
end
function   moveball()        
 	ballx+=ballxdir        
	bally+=ballydir    
end
function  losedeadball()      
    if bally>128-ballsize then        
        if lives>0 then          
            -- next life 
            restartball()     
            sfx(2)        
            lives-=1        
        else          
            -- game over          
            ballydir=0          
            ballxdir=0          
            ballx=64    
            bally=64  
            sfx(3)     
        end      
    end    
end
function  bounceball()      
    -- left         
    if ballx < ballsize then         
        ballxdir=-ballxdir        
        sfx(0)      
    end
        -- right         
    if ballx > 128-ballsize then         
        ballxdir=-ballxdir        
        sfx(0)      
    end      
    -- top         
    if bally < ballsize then        
        ballydir=-ballydir        
        sfx(0)      
    end    
end
-- bounce the ball off the paddle    
function  bouncepaddle()      
    if ballx>=padx and ballx<=padx+padw and bally>pady then        
        sfx(1)        
        ballydir=-ballydir
        score+=1 
        if score == nextobjective then
            lives += 1
            nextobjective = nextobjective * 2
            sfx(4)
        else
            sfx(1) 
        end
    end     
end
function  movepaddle()
 	if  btn (0) then
  		padx-=3
        if padx < 0 then
            padx = 0
        end
 	elseif  btn(1)  then
        padx+=3
        if (padx + padw) > 128 then
            padx = 128 - padw
        end
    end
end
function  restartgame()
    if btn (4) or btn (5) then
        score=0
        lives=3
        --  paddle
        padx=52    
        pady=122    
        padw=24    
        padh=4    
         -- ball    
        restartball() 
    end
end
function  _update()
    if lives > 0 then
        movepaddle()
        bounceball()
        bouncepaddle()
        moveball()
        losedeadball()
    else
        restartgame()
    end
end    
function  _draw()
    -- clear the screen
    rectfill(0,0, 128,128, 3)
    -- draw the score      
    print(score, 15, 1, 15)
    -- draw the lives      
    for i=1,lives do        
        spr(001, 119, -6 + i*7)      
    end
    if lives > 0 then
        -- draw the paddle
        spr(002, padx, pady)
        spr(003, padx+8, pady)
        spr(002, padx+16, pady, 1,1, true, false)
        -- draw the ball      
        circfill(ballx,bally,ballsize,15)
    else
        -- draw game over message
        print("game over", 50, 60, 15)
        print("-press button to replay-", 20, 70, 15)
    end
end
__gfx__
000000000000000078c77177c771177c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000008808800787c171c7c1771c7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888807871c7c171c77c17000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770008888888078177c77177cc771000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000088888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
333333333333333ff33f3f3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
3333333333333333f33f3f3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333388388333
3333333333333333f33fff3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333888888833
3333333333333333f3333f3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333888888833
333333333333333fff333f3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333388888333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333338883333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333833333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333388388333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333888888833
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333888888833
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333388888333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333338883333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333833333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333fff333333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333333333333fffff33333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333fffffff3333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333fffffff3333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333fffffff3333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333333333333fffff33333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333fff333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333378c77177c771177c77177c8733333333333333333333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333787c171c7c1771c7c171c78733333333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333337871c7c171c77c171c7c178733333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333378177c77177cc77177c7718733333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333

__sfx__
000100001c0501b0501b0501e050220502a0500100001000010000000001000000000000000000010000100000000000000000000000000000000000000000000000000000000000000000000000000000000000
000300001355016550195502055028550115501855000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0009000027750237501c7501775013750117500e7500c7500c7000c7000c7000d7000d7000d7000b7000570001700000000000000000000000000000000000000000000000000000000000000000000000000000
000b0000221502315022150211501e1501a15016150101500b1500915007150061500615004150031500215000150051000510007200062000520005200052000520004200042000000000000000000000000000
00020000187501c750247502c7502175015750217502f7502f7501f75015750197502b7503475021750127500e750000000000000000000000000000000000000000000000000000000000000000000000000000
