pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--Arrows move, X changes color
--from Picozine 1
function _init()
	smoke = {}
	cursorX = 50
	cursorY = 50
	color = 7
end
function make_smoke(x,y,init_size,col)
	local s = {}     
	s.x=x
	s.y=y
	s.col=col
	s.width = init_size
	s.width_final = init_size + rnd(3)+1
	s.t=0
	s.max_t = 80+rnd(10)
	s.dx = (rnd(.8)*.4)
	s.dy = rnd(.05)
	s.ddy = .02
	add(smoke,s)
	return s
end
function move_smoke(sp)
	if (sp.t > sp.max_t) then                  
		del(smoke,sp)
	end 
	if (sp.t > sp.max_t) then
		sp.width +=1
		sp.width = min(sp.width,sp.width_final)
	end
	sp.x = sp.x + sp.dx
	sp.y = sp.y + sp.dy
	sp.dy= sp.dy + sp.ddy
	sp.t = sp.t + 1
end
function  draw_smoke(s)
	circfill(s.x, s.y,s.width, s.col)
end 
function _draw()
	cls()
	foreach(smoke, draw_smoke)
end
function _update()
	foreach(smoke, move_smoke)
	if btn(0,0) then 
		cursorX-=3
	end 
	if btn(1,0) then 
		cursorX+=3 
	end
	if btn(2,0) then 
		cursorY-=3 
	end 
	if btn(3,0) then 
		cursorY+=3 
	end
	if btnp(4,0) then 
		color = rnd(14)+1
	end
	make_smoke(cursorX,cursorY,rnd(6),color)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000099999000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000999999900000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000009999999990000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000099999999999000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000099999999999000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000009990000099999999999000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000009999990009999999ccc9000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000009999999990999999ccccc000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000009999999999099999ccccc000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000009999999999009999ccccc000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000009999999999009999ccc0000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000999999999000000c00ccc0000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000099999999900000000ccccc000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000099900999999900000000ccccccc00000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000999990999999900000000ccccccc02222200000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000999990009990000000000ccccccc22222220000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000009999900000000000000000ccccc222222222000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000009990000000000000000000ccc2222222222200000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000002222222222200000000000000000000000000000000000000000000
00000000000000000000000000000000000000000900000000000000000000000000000002222222299999000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000009990000000000000000000000002222222999999900000000000000000000000000000000000000000
00000000000000000000000000000000000000000000099999000000000000000000000002222229999999990000000000000000000000000000000000000000
00000000000000000000000000000000000000000000999999900000000000000000000000222299999999999000000000000000000000000000000000000000
00000000000000000000000000000000000000000000999999900000000000000000000000222299999999999000000000000000000000000000000000000000
00000000000000000000000000000000000000000000999999900000000000000000000000022299999999999200000000000000000000000000000000000000
00000000000000000000000000000000000000000000099999000000000000000000000000002299999999999220000000000000000000000000000000000000
0000000000000000000000000000000000bbb0009990009990000000000000000000000000000299999999999244444000000000000000000000000000000000
000000000000000000000000000000000bbbbb0b9b99000000000000000000000000000000000009999999992444444400000000000000000000000000000000
000000000000000000000000000000009bbbbbbbb99990000000000000000000000000000000000c999999984444444440000000000000000000000000000000
000000000000000000000000000000099bbbbb9b99999000000000000000000000000000000000ccc99999844444444444000000000000000000000000000000
0000000000000000000000000000009999bbbbb99999900000000000000000000000000000000cccccc888044444444444000000000000000000000000000000
0000000000000000000000000000009999999b999999000000000000000000000000000000000ccccccc00044444444444000000000000000000000000000000
00000000000000000000000000000099999999999990000000000000000000000000000000000ccccccc00044444444444000000000000000000000000000000
0000000000000000000000000000009999999999900000000000000000000000000000000000ccccccc000044444444444000000000000000000000000000000
00000000000000000000000000000099999999999990000000000000000000000000000000ccccccccc000044444444444000000000000000000000000000000
00000000000000000000000000000009999999999999900000000000000000000000000000ccccccccc001114444444444000000000000000000000000000000
0000000000000000000000000000000099999999999990000000000000000000000000000ccccccccc0111111144444440000000000000000000000000000000
0000000000000000000000000000000009999999999999000000000000000000000000000ccccccccc0111111144444400000000000000000000000000000000
0000000000000000000000000000000000000999999999000000000000000000000000000ccccccccc1111111114444000000000000000000000000000000000
00000000000000000000000000000000000009999999990000000000000000000000000000ccccccc11111111114400000000000000000000000000000000000
00000000000000000000000000000000000000999999900000000000000000000000000000ccccccc11111111110000000000000000000000000000000000000
0000000000000000000000000000000000000099999990000000ddd000000000000000000000ccc1111111111100000000000000000000000000000000000000
000000000000000000000000000000000000000099900000000ddddd000000000000000000000000111111111100000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000ddddd000000000000000000000000000001110000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000ddddd000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000dddddd00000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000dddddddd0000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000ddddddddd000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000ddddddddddd00000000000000000000000000000011111000000000000000000000000000000000
0000000000000000000000000000000000000000000000000ddddddddddd00000000000000000000000000000111111100000000000000000000000000000000
0000000000000000000000000000000000000000000000000ddddddddddd00000000000011111000000000001111111110000000000000000000000000000000
0000000000000000000000000000000000000000000000000ddddddddddd00000000000111111100000000011111111111000000000000000000000000000000
0000000000000000000000000000000000000000000000000ddddddddddd00000000001111111110000000011111111111000000000000000000000000000000
00000000000000000000000000000000000000000000000000ddddddddd0000d0000011111111111000000011111111111000000000000000000000000000000
000000000000000000000000000000000000000000000000000ddddddd0000000000011111111111000000011111111111000000000000000000000000000000
0000000000000000000000000000000000000000000000000000ddddd00000111000011111111111000000011119111111000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000011111110011111111111000000001199911110000bbbbb0000000000000000000000
0000000000000000000000000000000000000000000000000000000000001111111001111111111100000000011911110000bbbbbbb900000000000000000000
000000000000000000000000000000000000000000000000000000000001111111110011111111100000000000111110099bbbbbbbbb90000000000000000000
00000000000000000000000000000000000000000000000000000000000111111111000111111100000000000000099999bbbbbbbbbbb0000000000000000000
00000000000000000000000000000000000000000000000000000000000111111111000011111000000000000000999999bbbbbbbbbbb0000000000bbb000000
00000000000000000000000000000000000000000000000000000000000011111110000111000000000000000000999999bbbbbbbbbbb00000000bbbbbbb0000
00000000000000000000000000000000000000000000000000000000000011111110001111100000000000000000999999bbbbbbbbbbb00000000bbbbbbb0000
00000000000000000000000000000000000000000000000000000000000000111000001111100000000000000000099999bbbbbbbbbbb0000000bbbbbbbbb000
000000000000000000000000000000000000000000000000000000000000000000111011111000000000000000000000099bbbbbbbbb00000000bbbbbbbbb000
0000000000000000000000000000000000000000000000000000000000000000011111011100000000000000000000000000bbbbbbb0000b0000bbbbbbbbb000
00000000000000000000000000000000000000000000000000000000000000001111111000000000000000000000000000000bbbbb0000bbb00eeebbbbbbbbb0
000000000000000000000000000000000000000000000000000000000000000011111110000000000000000000000000000000000000000b00eeeeebbbbbbbbb
00000000000000000000000000000000000000000000000000000000000000001111111000000000000000000000000000000000000000000eeeeeeebbbbbbbb
00000000000000000000000000000000000000000000000000000000000000000111110000000000000000000000000000000000000000000eeeeeeeeebbbbbb
00000000000000000000000000000000000000000000000000000000000000000011100000001000000000000000000000000000000000000eeeeeeeeeeebbbb
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeebbbb
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeeeeebb0
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000eeeeeeeeee00
00000000000000000000000000000000000000000000000000000000000000000000099999000000000000000000000000000000000000000000eeeeebeee000
000000000000000000000000000000000000000000000000000000000000000000009999999000000900000000000000000000000b00000000000eeebbbe0000
00000000000000000000000000000000000000000000000000000000000000000009999999990000000000000000000000000000bbb000000000bbbeebee0000
000000000000000000000000000000000000000000000000000000000000000000999999999990000000000000000000000000000b00000000bbbbbbbe000000
000000000000000000000000000000000000000000000000000000000000000000999999999990000000000000000000000000000000000000bbbbbbaaa00000
000000000000000000000000000000000000000000000000000000000000000000999999999990000000000000000aaaaa000000000000000bbbbbbaaaaa0000
00000000000000000000000000000000000000000000000000000000000000000099999999999000000000000000aaaaaaa00000000000000bbbbbaaaaaaa000
0000000000000000000000000000000000000000000000000000000000000000009999999999900000000000000aaaaaaaaa0000000000000bbbbbaaaaaaa000
000000000000000000000000000000000000000000000000000000000000000000099999999900000000099900aaaaaaaaaaa0000000aaa000bbbbaaaaaaa000
0000000000000000000000000000000000000000000000000000000000000000000099999990000000009999909aaaaaaaaaa000000aaaaa00bbbbbaaaaa0000
00000000000000000000000000000000000000000000000000000000000000000000099999000000000099999999aaaaaaaa5550000aaaaa0000bbb0aaa00000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000009999909aa555aaa555550aaaaaaa0000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000099900a55555555555555aaaaaa00000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555555555aaaa0000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555555555555555aaaa0000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555555555555550aaa00000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055555555505550000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005555555000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055500000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

